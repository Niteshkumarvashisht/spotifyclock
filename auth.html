<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>Spotify Auth</title>
</head>
<body>
    <h2>Spotify Authentication</h2>
    <p id="token-message"></p>

    <script>
        const hash = window.location.hash;
        const accessTokenMatch = hash.match(/access_token=([^&]*)/);
        const errorMatch = hash.match(/error=([^&]*)/);

        if (accessTokenMatch) {
            const accessToken = accessTokenMatch[1];
            document.getElementById("token-message").textContent = "Access Token: " + accessToken;
            localStorage.setItem("spotify_token", accessToken);
            // Optionally redirect to your main app page here
            // window.location.href = "index.html";
        } else if (errorMatch) {
            const error = errorMatch[1];
            document.getElementById("token-message").textContent = "Authentication Error: " + error;
            console.error("Spotify Authentication Error:", error);
        } else {
            document.getElementById("token-message").textContent = "No access token or error found.";
        }
    </script>
</body>
</html>
